
<div style="margin:4%"></div>

<div class="row" style="padding-bottom: 2%;">
  <div class="col-md-3">
    <a class="thumbnail" href="#" data-image-id="" data-toggle="modal" data-title="The car i dream about" data-caption="If you sponsor me, I can drive this car" data-image="assets/press4.jpg" data-target="#image-gallery">
      <%= image_tag "press4.jpg", class: "img-responsive" %>
    </a>
  </div>
  <div class="col-md-3">
    <a class="thumbnail" href="#" data-image-id="" data-toggle="modal" data-title="The car i dream about" data-caption="If you sponsor me, I can drive this car" data-image="assets/press3.jpg" data-target="#image-gallery">
      <%= image_tag "press3.jpg", class: "img-responsive" %>
    </a>
  </div>
  <div class="col-md-3">
   <a class="thumbnail" href="#" data-image-id="" data-toggle="modal" data-title="The car i dream about" data-caption="If you sponsor me, I can drive this car" data-image="assets/press4.jpg" data-target="#image-gallery">
    <%= image_tag "press4.jpg", class: "img-responsive" %>
  </a>
</div>
<div class="col-md-3">
  <a class="thumbnail" href="#" data-image-id="" data-toggle="modal" data-title="The car i dream about" data-caption="If you sponsor me, I can drive this car" data-image="assets/press3.jpg" data-target="#image-gallery">
    <%= image_tag "press3.jpg", class: "img-responsive" %>
  </a>
</div>
</div>
<div class="row" style="padding-bottom: 2%;">
  <div class="col-md-3">
    <a class="thumbnail" href="#" data-image-id="" data-toggle="modal" data-title="The car i dream about" data-caption="If you sponsor me, I can drive this car" data-image="assets/press4.jpg" data-target="#image-gallery">
      <%= image_tag "press4.jpg", class: "img-responsive" %>
    </a>
  </div>
  <div class="col-md-3">
    <a class="thumbnail" href="#" data-image-id="" data-toggle="modal" data-title="The car i dream about" data-caption="If you sponsor me, I can drive this car" data-image="assets/press3.jpg" data-target="#image-gallery">
      <%= image_tag "press3.jpg", class: "img-responsive" %>
    </a>
  </div>
  <div class="col-md-3">
    <a class="thumbnail" href="#" data-image-id="" data-toggle="modal" data-title="The car i dream about" data-caption="If you sponsor me, I can drive this car" data-image="assets/press4.jpg" data-target="#image-gallery">
      <%= image_tag "press4.jpg", class: "img-responsive" %>
    </a>
  </div>
  <div class="col-md-3">
    <a class="thumbnail" href="#" data-image-id="" data-toggle="modal" data-title="The car i dream about" data-caption="If you sponsor me, I can drive this car" data-image="assets/press3.jpg" data-target="#image-gallery">
      <%= image_tag "press3.jpg", class: "img-responsive" %>
    </a>
  </div>
</div>
<div class="row" style="padding-bottom: 2%;">
  <div class="col-md-3">
    <a class="thumbnail" href="#" data-image-id="" data-toggle="modal" data-title="The car i dream about" data-caption="If you sponsor me, I can drive this car" data-image="assets/press4.jpg" data-target="#image-gallery">
      <%= image_tag "press4.jpg", class: "img-responsive" %>
    </a>
  </div>
  <div class="col-md-3">
    <a class="thumbnail" href="#" data-image-id="" data-toggle="modal" data-title="The car i dream about" data-caption="If you sponsor me, I can drive this car" data-image="assets/press3.jpg" data-target="#image-gallery">
      <%= image_tag "press3.jpg", class: "img-responsive" %>
    </a>
  </div>
  <div class="col-md-3">
    <a class="thumbnail" href="#" data-image-id="" data-toggle="modal" data-title="The car i dream about" data-caption="If you sponsor me, I can drive this car" data-image="assets/press4.jpg" data-target="#image-gallery">
      <%= image_tag "press4.jpg", class: "img-responsive" %>
    </a>
  </div>
  <div class="col-md-3">
    <a class="thumbnail" href="#" data-image-id="" data-toggle="modal" data-title="The car i dream about" data-caption="If you sponsor me, I can drive this car" data-image="assets/press3.jpg" data-target="#image-gallery">
      <%= image_tag "press3.jpg", class: "img-responsive" %>
    </a>
  </div>
</div>
<div class="row" style="padding-bottom: 2%;">
  <div class="col-md-3">
    <a class="thumbnail" href="#" data-image-id="" data-toggle="modal" data-title="The car i dream about" data-caption="If you sponsor me, I can drive this car" data-image="assets/press4.jpg" data-target="#image-gallery">
      <%= image_tag "press4.jpg", class: "img-responsive" %>
    </a>
  </div>
  <div class="col-md-3">
    <a class="thumbnail" href="#" data-image-id="" data-toggle="modal" data-title="The car i dream about" data-caption="If you sponsor me, I can drive this car" data-image="assets/press3.jpg" data-target="#image-gallery">
      <%= image_tag "press3.jpg", class: "img-responsive" %>
    </a>
  </div>
  <div class="col-md-3">
    <a class="thumbnail" href="#" data-image-id="" data-toggle="modal" data-title="The car i dream about" data-caption="If you sponsor me, I can drive this car" data-image="assets/press4.jpg" data-target="#image-gallery">
      <%= image_tag "press4.jpg", class: "img-responsive" %>
    </a>
  </div>
  <div class="col-md-3">
    <a class="thumbnail" href="#" data-image-id="" data-toggle="modal" data-title="The car i dream about" data-caption="If you sponsor me, I can drive this car" data-image="assets/press3.jpg" data-target="#image-gallery">
      <%= image_tag "press3.jpg", class: "img-responsive" %>
    </a>
  </div>
</div>



<div class="modal fade" id="image-gallery" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">Ã—</span><span class="sr-only">Close</span></button>
        <h4 class="modal-title" id="image-gallery-title"></h4>
      </div>
      <div class="modal-body">
        <img id="image-gallery-image" class="img-responsive" src="">
      </div>


      <div class="modal-footer">
      <div class="col-md-3 col-md-offset-2">
          <i class="fa fa-chevron-left" style="font-size:30px" id="show-previous-image"></i>
        </div>
        <div class="col-md-3">
          <i class="fa fa-chevron-right" style="font-size:30px" id="show-next-image"></i>
        </div>
      </div>
    </div>
  </div>
</div>




<script>

  $(document).ready(function(){

    loadGallery(true, 'a.thumbnail');

    //This function disables buttons when needed
    function disableButtons(counter_max, counter_current){
      $('#show-previous-image, #show-next-image').show();
      if(counter_max == counter_current){
        $('#show-next-image').hide();
      } else if (counter_current == 1){
        $('#show-previous-image').hide();
      }
    }

    /**
     *
     * @param setIDs        Sets IDs when DOM is loaded. If using a PHP counter, set to false.
     * @param setClickAttr  Sets the attribute for the click handler.
     */

     function loadGallery(setIDs, setClickAttr){
      var current_image,
      selector,
      counter = 0;

      $('#show-next-image, #show-previous-image').click(function(){
        if($(this).attr('id') == 'show-previous-image'){
          current_image--;
        } else {
          current_image++;
        }

        selector = $('[data-image-id="' + current_image + '"]');
        updateGallery(selector);
      });

      function updateGallery(selector) {
        var $sel = selector;
        current_image = $sel.data('image-id');
        $('#image-gallery-caption').text($sel.data('caption'));
        $('#image-gallery-title').text($sel.data('title'));
        $('#image-gallery-image').attr('src', $sel.data('image'));
        disableButtons(counter, $sel.data('image-id'));
      }

      if(setIDs == true){
        $('[data-image-id]').each(function(){
          counter++;
          $(this).attr('data-image-id',counter);
        });
      }
      $(setClickAttr).on('click',function(){
        updateGallery($(this));
      });
    }
  });
</script>